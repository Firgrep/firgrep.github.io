<!DOCTYPE html><html lang="en" class="scroll-smooth"> <head><meta charset="UTF-8"><meta name="description" content="Personal website of Filip Niklas: philosopher, poet and programmer."><meta name="viewport" content="width=device-width"><meta name="author" content="Filip Niklas"><meta name="keywords" content="Filip Niklas, poetry, philosophy, art, history, economy, programming, ideas, metaphysics"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v4.1.1"><meta property="og:title" content="FN | GCP Kubernetes"><meta property="og:url" content="https://filipniklas.com/programming/scriptbook/gcp-kubernetes/"><meta property="og:image" content="https://filipniklas.com/android-chrome-192x192.png"><title>FN | GCP Kubernetes</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/index.2wPTKlP_.css" />
<link rel="stylesheet" href="/_astro/_slug_.WS5XFDw2.css" />
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/_astro/hoisted.rqgW1Fss.js"></script><style>[data-astro-transition-scope="astro-ioirg4gz-1"] { view-transition-name: astro-ioirg4gz-1; }@layer astro { ::view-transition-old(astro-ioirg4gz-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-ioirg4gz-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-ioirg4gz-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-ioirg4gz-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-ioirg4gz-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-ioirg4gz-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-ioirg4gz-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-ioirg4gz-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-ioirg4gz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-ioirg4gz-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-ioirg4gz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-ioirg4gz-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style><style>[data-astro-transition-scope="astro-dnezuqfu-2"] { view-transition-name: scriptbook; }@layer astro { ::view-transition-old(scriptbook) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(scriptbook) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(scriptbook) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(scriptbook) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-dnezuqfu-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-dnezuqfu-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-dnezuqfu-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-dnezuqfu-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-dnezuqfu-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-dnezuqfu-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-dnezuqfu-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-dnezuqfu-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-bmxrwhcs-3"] { view-transition-name: card1; }@layer astro { ::view-transition-old(card1) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(card1) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(card1) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(card1) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-bmxrwhcs-4"] { view-transition-name: card2; }@layer astro { ::view-transition-old(card2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(card2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(card2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(card2) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-4"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-4"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-bmxrwhcs-5"] { view-transition-name: card3; }@layer astro { ::view-transition-old(card3) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(card3) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(card3) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(card3) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-5"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-5"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-5"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-5"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-bmxrwhcs-6"] { view-transition-name: card4; }@layer astro { ::view-transition-old(card4) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(card4) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(card4) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(card4) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-6"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-6"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bmxrwhcs-6"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bmxrwhcs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bmxrwhcs-6"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bmxrwhcs-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body class="relative flex flex-col h-screen overflow-y-scroll custom-main-scrollbar"> <nav class="flex justify-center p-1 gap-4 w-full shadow-lg z-20 bg-gradient-to-r from-pink-700/95 to-rose-900"> <a href="/" class="hidden lg:block absolute left-[50px] top-[10px] text-neutral-50 text-lg font-semibold after:bg-neutral-50 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer">/filipniklas</a> <div class="screen p-4 flex justify-center items-center z-10 rounded-md h-14 w-52 screen-bg-nav colors-card-1" id="card1" data-astro-cid-gx5ugnmk data-astro-transition-scope="astro-bmxrwhcs-3"> <div class="screen-image-north" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk> <!-- <i class="screen-icon">ICON</i> --> <div class="screen-user" data-astro-cid-gx5ugnmk>  <a href="/philosophy" data-astro-cid-gx5ugnmk> <p class="text-neutral-50 text-xs  md:text-sm font-semibold relative after:bg-neutral-50 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer" data-astro-cid-gx5ugnmk>Philosophy</p> </a> </div> </div> </div>  <div class="screen p-4 flex justify-center items-center z-10 rounded-md h-14 w-52 screen-bg-nav colors-card-2" id="card2" data-astro-cid-gx5ugnmk data-astro-transition-scope="astro-bmxrwhcs-4"> <div class="screen-image-east" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk> <!-- <i class="screen-icon">ICON</i> --> <div class="screen-user" data-astro-cid-gx5ugnmk>  <a href="/poetry" data-astro-cid-gx5ugnmk> <p class="text-neutral-50 text-xs  md:text-sm font-semibold relative after:bg-neutral-50 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer" data-astro-cid-gx5ugnmk>Poetry</p> </a> </div> </div> </div>  <div class="screen p-4 flex justify-center items-center z-10 rounded-md h-14 w-52 screen-bg-nav colors-card-3" id="card3" data-astro-cid-gx5ugnmk data-astro-transition-scope="astro-bmxrwhcs-5"> <div class="screen-image-south" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk> <!-- <i class="screen-icon">ICON</i> --> <div class="screen-user" data-astro-cid-gx5ugnmk>  <a href="/programming" data-astro-cid-gx5ugnmk> <p class="text-neutral-50 text-xs  md:text-sm font-semibold relative after:bg-neutral-50 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer" data-astro-cid-gx5ugnmk>Programming</p> </a> </div> </div> </div>  <div class="screen p-4 flex justify-center items-center z-10 rounded-md h-14 w-52 screen-bg-nav colors-card-4" id="card4" data-astro-cid-gx5ugnmk data-astro-transition-scope="astro-bmxrwhcs-6"> <div class="screen-image-west" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk></div> <div class="" data-astro-cid-gx5ugnmk> <!-- <i class="screen-icon">ICON</i> --> <div class="screen-user" data-astro-cid-gx5ugnmk>  <a href="/economy" data-astro-cid-gx5ugnmk> <p class="text-neutral-50 text-xs  md:text-sm font-semibold relative after:bg-neutral-50 after:absolute after:h-[2px] after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300 cursor-pointer" data-astro-cid-gx5ugnmk>Economy</p> </a> </div> </div> </div>  </nav> <main> <div class="flex flex-col min-h-[88vh] mb-20 md:mb-0">  <div class="flex flex-col relative"> <div class="fixed max-w-none w-full scale-110 -translate-y-24 before:absolute before:left-0 before:right-0 before:top-0  before:z-10 before:h-full before:w-full before:bg-white h-full before:opacity-30"> <img src="/static/images/purple2.webp" alt="Image" class="absolute h-screen w-full object-cover z-0"> </div> <div class="z-10">  <div class="absolute inset-0 bg-[url(/static/svg/grid.svg)] -z-10 bg-top [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0.5))]"></div> <div class="xl:fixed xl:translate-y-[76px] 2xl:left-20 xl:left-0 lg:top-5 left-1 flex justify-center mt-4 z-10">  <div class="bg-white p-4 rounded-md min-h-[300px] max-h-[500px] overflow-y-scroll custom-scrollbar w-72 shadow-xl" id="scriptbook" data-astro-transition-scope="astro-dnezuqfu-2"> <ul> <li> <a href="/programming/scriptbook/2024-01-20_possible-cidr-ips/" class="text-blue-500 hover:text-blue-700 hover:underline"> Possible CIDR IPs </a> </li><li> <a href="/programming/scriptbook/expressjs-basic-crud/" class="text-blue-500 hover:text-blue-700 hover:underline"> Express.js Basic CRUD &amp; Routing </a> </li><li> <a href="/programming/scriptbook/gcp-app-engine/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP App Engine </a> </li><li> <a href="/programming/scriptbook/gcp-bigquery/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP BigQuery </a> </li><li> <a href="/programming/scriptbook/gcp-disks/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Disks </a> </li><li> <a href="/programming/scriptbook/gcp-iam/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP IAM </a> </li><li> <a href="/programming/scriptbook/gcp-kubernetes/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Kubernetes </a> </li><li> <a href="/programming/scriptbook/gcp-lb/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Load Balancing </a> </li><li> <a href="/programming/scriptbook/gcp-logging-monitoring/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Logging And Monitoring </a> </li><li> <a href="/programming/scriptbook/gcp-networks-interconnect/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Interconnect </a> </li><li> <a href="/programming/scriptbook/gcp-networks/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Network </a> </li><li> <a href="/programming/scriptbook/gcp-pubsub/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP PubSub </a> </li><li> <a href="/programming/scriptbook/gcp-resource-management/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Resource Management </a> </li><li> <a href="/programming/scriptbook/gcp-shell/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Cloud Shell </a> </li><li> <a href="/programming/scriptbook/gcp-sql/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Cloud SQL </a> </li><li> <a href="/programming/scriptbook/gcp-storage/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Storage </a> </li><li> <a href="/programming/scriptbook/gcp-terraform/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP Terraform </a> </li><li> <a href="/programming/scriptbook/gcp-vm/" class="text-blue-500 hover:text-blue-700 hover:underline"> GCP VM </a> </li><li> <a href="/programming/scriptbook/nextjs-combining-server-and-client-components/" class="text-blue-500 hover:text-blue-700 hover:underline"> Next.js Combining Server and Client Components </a> </li><li> <a href="/programming/scriptbook/nodejs-essentials/" class="text-blue-500 hover:text-blue-700 hover:underline"> Node.js Essentials </a> </li><li> <a href="/programming/scriptbook/rust-basics/" class="text-blue-500 hover:text-blue-700 hover:underline"> Rust Basics </a> </li><li> <a href="/programming/scriptbook/rust-ownership/" class="text-blue-500 hover:text-blue-700 hover:underline"> Rust Ownership </a> </li><li> <a href="/programming/scriptbook/rust-struct/" class="text-blue-500 hover:text-blue-700 hover:underline"> Rust Struct </a> </li> </ul> </div> <!-- <style>
    /* TODO fix scrollbar on menu not being preserved! */
    /* div#scriptbook {
        overflow: hidden;
    } */

    div#scriptbook > ul {
        overflow-y: auto;
    }
</style> --> </div> <div class="z-30 flex justify-center mt-12 pb-12" data-astro-transition-scope="astro-ioirg4gz-1"> <div class="px-1 lg:px-32 py-8 shadow-xl border border-1 border-gray-300/50 bg-white"> <div class="prose lg:prose-lg dark:prose-invert prose-h1:font-bold">   <h1 id="gcp-kubernetes-and-gke">GCP Kubernetes and GKE</h1>
<h2 id="basic-architecture">Basic Architecture</h2>
<p>Each kubernetes item runs on a computer and is either a control plane or a node.</p>
<p>A Node launches and maintains Pods.</p>
<h2 id="control-plane">Control Plane</h2>
<p>The control plane is made up of five elements:</p>
<ul>
<li><code>kube-APIserver</code> - this is the interface the user interacts with</li>
<li><code>etcd</code> - this is the database to store persistent data, used by kube-APIserver. Non-interactive.</li>
<li><code>kube-scheduler</code> - scheduling pods on to the nodes. Doesn’t actually launch them. Keeps a state of all the nodes.</li>
<li><code>kube-controller-manager</code> - monitors the state and attempts to maintain the desired state.</li>
<li><code>kube-cloud-manager</code> - manages controllers that interact with underlying cloud providers (like GCP).</li>
</ul>
<h2 id="node">Node</h2>
<p>Each node runs a <code>kublet</code>, which is an agent of the control plane.</p>
<p>It also runs a <code>kube-proxy</code> which maintains network connectivity between nodes in a cluster.</p>
<h2 id="pod">Pod</h2>
<p>A pod is used to specify how to build and reference a container image in GKE.</p>
<blockquote>
<p>When configuring <strong>access</strong> for GKE, set up dedicated service accounts for each pod. Then use workload identity to map them to dedicated Kubernetes service accounts.</p>
</blockquote>
<h2 id="service">Service</h2>
<p>A service exposes the Kubernetes resources to the internet according to the settings specified.</p>
<h2 id="gke-autopilot-versus-standard">GKE Autopilot versus Standard</h2>
<p>With GKE autopilot, you pay for what you use, i.e. for the pods, but not for nodes. Whereas for Standard, you pay for what is provisioned, regardless of usage. But GKE autopolit has limitations.</p>
<p>GKE Autopilot limitations:</p>
<ul>
<li>configuration options are more restrictive</li>
<li>autopolit clusers have restrictions on access to node objects</li>
<li>no SSH</li>
<li>no privilege escalation</li>
<li>limitations on node affinity and host access</li>
</ul>
<h2 id="object-management">Object Management</h2>
<p>Pod instructions are written in manifests, which ae <code>.yaml</code> or <code>.json</code> files. Each pod must have a name, but that cannot be identical in the same namespace or cluster.</p>
<p>Controlling desired state across pods can be done through an object controller defined at the level of the control plane.</p>
<h2 id="load-balancing">Load Balancing</h2>
<p><code>ingress</code> objects (not <code>pods</code> or <code>services</code>) implement an http(s) load balancer based on upstream services that are specified in the configuration file.</p>
<h3 id="internal">Internal</h3>
<p>To set an  internal http(s) load balancer for a GKE cluster, annotate the service object with a “neg” reference.</p>
<h2 id="apis">APIs</h2>
<p>To access logic running in clusters through endpoints, use the Kubernetes <code>Services</code> object to define endpoints.</p>
<blockquote>
<p>Service endpoints are defined by pods with labels that match those specified in the service configuration file. Services then specify how those pods are exposed.</p>
</blockquote>   </div> </div> </div>  </div> </div>  </div> <div class="relative"> <div class="z-30 absolute bottom-0 left-[50%] transform -translate-x-1/2 translate-y-1/2"> <div class="glass rounded-lg p-2"> <p class="text-xs">© Filip Niklas 2024. All poetry rights reserved. Permission is hereby granted to freely copy and use notes about programming and any code.</p> </div> <div class="h-4"></div> </div> </div> </main> </body> </html>   <script>
/**
 * Thanks to Astro Paper for this code. See:
 * https://github.com/satnaing/astro-paper/blob/main/src/layouts/PostDetails.astro
 */
/** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
    function attachCopyButtons() {
        let copyButtonLabel = "Copy";
        let codeBlocks = Array.from(document.querySelectorAll("pre"));

        for (let codeBlock of codeBlocks) {
            let wrapper = document.createElement("div");
            wrapper.style.position = "relative";

            let copyButton = document.createElement("button");
            copyButton.className =
                "copy-code absolute right-3 -top-3 rounded bg-slate-200 hover:bg-slate-400  px-2 py-1 text-xs leading-4 text-black font-medium";
            copyButton.innerHTML = copyButtonLabel;
            codeBlock.setAttribute("tabindex", "0");
            codeBlock.appendChild(copyButton);

            // wrap codebock with relative parent element
            codeBlock.parentNode.insertBefore(wrapper, codeBlock);
            wrapper.appendChild(codeBlock);

            copyButton.addEventListener("click", async () => {
                await copyCode(codeBlock, copyButton);
            });
        }

        async function copyCode(block, button) {
            let code = block.querySelector("code");
            let text = code.innerText;

            await navigator.clipboard.writeText(text);

            // visual feedback that task is completed
            button.innerText = "Copied!";

            setTimeout(() => {
                button.innerText = copyButtonLabel;
            }, 2000);
        }
    }
        
    attachCopyButtons();
    document.addEventListener("astro:after-swap", attachCopyButtons);
</script>